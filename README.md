# Eco Law Archive

Human readable specifications of Eco civics.


## Usage
Users will primarily want to visit the published version of this repository at it's Github Page: [https://lithium.github.io/eco-law-archive](https://lithium.github.io/eco-law-archive)


## Organization

The .json files must be in the format generated by the [https://github.com/thomasfn/EcoCivicsImportExportMod](EcoCivicsImportExportMod v0.6.3)

JSON files are are organized into 'collections' which have 1 or more 'sets' in them, e.g.: the collection 'giantpanda' has a set named 'Cycle50'. so you can find the .json file used for the 'giantpanda/Cycle50' constitution at `./archive/giantpanda/Cycle50/constituion-354868.json`

the name of the collection and set are inferred to be the folder names.


## Contributing

To contribute to the archive:
1. fork the repository to your own github account
2. on your fork, create a new 'feature branch' to contain these contributions
3. make changes to existing files in ./archive/ or add new .json files to make a new set 
4. commit the new changes to your new forked feature branch
5. create a pull request from the forked feature branch into this repository describing the changes you made and why you want to contribute them

#### Creating a new set
You can author the .json files directly in a text editor if you are brave enough, but most people will want to use a workflow like:

1. Install the ECO Server on your workstation and install the [https://github.com/thomasfn/EcoCivicsImportExportMod](EcoCivicsImportExportMod)
2. start Eco and connect to your local server
3. use dev commands to `/build` and `/give` government buildings
4. configure the civic objects and use `/civics winelection` to pass them
5. you can verify if the laws etc behave as expected
6. use the `/civics exportall` command from EcoCivicsImportExportMod to write .json files 
7. make a new folder in `./archive/` for your set in the appropriate collection folder
8. copy the new .json files from `%Steam%\steamapps\common\Eco Server\civics` into your new set folder
9. verify the build still works correctly by running `npm run build`

#### Previewing Locally
If you have nodejs installed you can preview the generated html locally.

Recommended way to installed nodejs is with [https://github.com/nvm-sh/nvm#installing-and-updating](nvm).

To build the .html files from the .json files into the `./build` directory run:
`npm run build`

you can then run a local http server to preview this output with:
`npm run start`, which will start a local server at `http://localhost:8080`


## Goal 

Provide a way to document the specific configuration and still provide a human readable version of eco civics: Laws, Titles, Election Processes, Demographics, etc.  
This is to both provide a record and archive of configurations but also enable players to accurately recreate them on other Eco servers, even without mod access.


### Initial Requirements

The civics configuration should be specified in a structured format, but automatically converted to a human readable format for reviewing and use by those who will not necessarily commit to this repository but will use it to recreate laws on other servers.

A github repository that stores structured data should be the "primary source of truth" for specifying the civics objects. 

If a human readable template of a section doesnt exist yet, fall back to displaying the raw data.


## Implementation

Civics are specified in the JSON in the format used by the [https://github.com/thomasfn/EcoCivicsImportExportMod](EcoCivicsImportExportMod) v0.6.3.

Whenever a pull request or commit occurs a GitHub Action automatically processes the structured .json generating static html for each folder/civic item and output/and publishing it to GitHub Pages.
